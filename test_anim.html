<!DOCTYPE html>
<html>
    <head>
        <title>Sama Sama Studios</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="css/style.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="js/anime.min.js"></script>
        <script src="js/main.js"></script>
    </head>
    <body style="display: flex; height: 300vw;">
        <div id="container-logo">
            <svg class="logo" width="242" height="82" viewBox="0 0 242 82" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path id="orbit" d="M75.6628 17.7509C36.111 -6.63811 3.97034 16.2763 3.97034 44.5222C3.97034 64.7897 12.4025 78.2888 42.766 78.2888C75.4738 78.2888 117.181 40.0225 117.181 40.0225C117.181 40.0225 160.476 4.40314 194.508 4.40314C228.539 4.40314 237.652 26.5613 237.652 41.3459C237.652 55.3366 226.724 84.6413 183.504 71.9741" stroke="black" stroke-width="7" stroke-miterlimit="10" stroke-linecap="round"/>
                <path id="atom" d="M148.981 46.3372C145.994 46.98 140.322 50.61 139.074 54.3535C137.864 57.9456 136.352 62.4831 139.868 65.9241C143.082 69.0625 147.28 69.6675 151.363 68.3819C156.619 66.756 160.779 64.336 163.161 59.5716C165.694 54.3913 163.652 51.1772 157.3 47.2069C156.166 46.4885 152.347 45.581 148.981 46.3372Z" stroke="#FA6900" stroke-width="7" stroke-miterlimit="10"/>
            </svg>
        </div>
        
                 
        <script>
        document.addEventListener("DOMContentLoaded", function(event) {
            var path = anime.path('#orbit');

            let orbitAnim = anime({
                              targets: '#atom',
                              translateX: path('x'),
                              translateY: path('y'),
                              rotate: path('angle'),
                              easing: 'easeInOutQuart',
                              duration: 5000,
                              loop: true
                            });
        });
            
//            $(function() {
//              var $window = $(window);
//              var scrollTop = $window.scrollTop();
//                var path = anime.path('#orbit');
//
//              let basicTimeline = anime({
//                targets: "#atom",
////                translateY: [0, $window.height() - $(".logo").height()],
//                  translateX: path('x'),
//                  translateY: path('y'),
//                  rotate: path('angle'),
//                autoplay: false,
//                offset: 0,
//                duration: 2000
//            });
//
//              var raf = null, timeout = null, scrollPercent = 0;
//
//              $window.on("scroll", function() {
//                var documentHeight = $(document).height();
//                var windowHeight = $window.height();
//                scrollTop = $(window).scrollTop();
//                scrollPercent = Math.max(
//                  scrollTop / (documentHeight - windowHeight),
//                  0
//                );
//
//                console.log('scrolling: ' + scrollPercent);
//
//                if (null === raf) {
//                  raf = requestAnimationFrame(update);
//                }                
//              });
//
//              var update = function() {
//                var progress = basicTimeline.progress / 100;
//                var proxyProgress = scrollPercent;
//                var diff = proxyProgress - progress;
//
//                console.log('diff:' + diff);
//                progress += (proxyProgress - progress) * 0.05;    
//                basicTimeline.seek(progress * 2000);
//                console.log('updating:' + progress);
//
//                if (Math.abs(diff) > 0.000005) {
//                  raf = requestAnimationFrame(update);  
//                } else if (raf) {console.log('cancelling');
//                  cancelAnimationFrame(raf);
//                  raf = null;
//                }       
//            }    
//            });
            
        </script>
    </body>    
</html>